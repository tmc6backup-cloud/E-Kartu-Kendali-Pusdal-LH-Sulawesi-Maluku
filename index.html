
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Kartu Kendali - PUSDAL LH SUMA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        const getBase = () => {
            const path = window.location.pathname;
            const segments = path.split('/').filter(s => s.length > 0);
            if (window.location.hostname.includes('github.io') && segments.length > 0) {
                return '/' + segments[0] + '/';
            }
            return '/';
        };
        window.APP_BASE = getBase();
        window.process = {
            env: {
                API_KEY: "GANTI_DENGAN_API_KEY_GEMINI_ANDA",
                SUPABASE_URL: "https://syptvhtbxflhjgdepbqs.supabase.co",
                SUPABASE_ANON_KEY: "sb_publishable_6HOCKQ1SphXZ9a6fgPDLyA_fuqIVaFR"
            }
        };
    </script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #F8FAFC; margin: 0; overflow-x: hidden; height: 100vh; width: 100vw; }
        
        /* Hilangkan visual scrollbar namun tetap bisa scroll */
        ::-webkit-scrollbar { display: none !important; width: 0 !important; }
        * { -ms-overflow-style: none !important; scrollbar-width: none !important; }

        #root { opacity: 0; transition: opacity 0.5s ease; height: 100%; width: 100%; overflow-y: auto; }
        #root.loaded { opacity: 1; }
        
        .print-only { display: none !important; }

        @media print { 
            @page {
                size: A4;
                margin: 1.2cm;
            }
            .no-print { display: none !important; } 
            .print-only { display: block !important; }
            
            body { 
                overflow: visible !important; 
                height: auto !important; 
                width: auto !important; 
                background: white !important; 
                color: black !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            #root { 
                overflow: visible !important; 
                height: auto !important; 
                opacity: 1 !important; 
                padding: 0 !important;
                display: block !important;
            }

            /* Konsistensi Garis Tabel */
            table { 
                border-collapse: collapse !important; 
                width: 100% !important;
                border: 1pt solid black !important;
                table-layout: fixed !important; /* Memaksa kolom tetap konsisten */
            }
            
            th, td { 
                border: 1pt solid black !important; 
                padding: 5pt !important;
                word-wrap: break-word !important;
                overflow: hidden !important;
            }

            thead { display: table-header-group !important; }
            tr { page-break-inside: avoid !important; }

            .break-inside-avoid {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
            }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react/": "https://esm.sh/react@19.0.0/",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "react-dom/": "https://esm.sh/react-dom@19.0.0/",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0?external=react",
    "react-router-dom": "https://esm.sh/react-router-dom@7.0.0?external=react,react-dom",
    "recharts": "https://esm.sh/recharts@2.13.0?external=react,react-dom",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2.46.1",
    "@google/genai": "https://esm.sh/@google/genai@1.3.0"
  }
}
</script>
</head>
<body>
    <div id="splash-screen" style="position:fixed; inset:0; background:#0f172a; display:flex; align-items:center; justify-content:center; z-index:9999;">
        <div style="width:150px; height:2px; background:rgba(255,255,255,0.1); border-radius:10px; overflow:hidden;">
            <div style="height:100%; width:40%; background:#10b981; animation:load 1.5s infinite ease-in-out;"></div>
        </div>
        <style>@keyframes load { 0% { transform: translateX(-100%); } 100% { transform: translateX(250%); } }</style>
    </div>
    <div id="root"></div>
    <script>
        function hideSplash() {
            const splash = document.getElementById('splash-screen');
            if(splash) { splash.style.display = 'none'; }
            document.getElementById('root').classList.add('loaded');
        }
        function launch() {
            const script = document.createElement('script');
            script.type = 'module';
            script.src = window.APP_BASE + 'index.tsx?v=' + Date.now();
            document.body.appendChild(script);
            const check = setInterval(() => {
                if(document.getElementById('root').innerHTML.length > 50) { clearInterval(check); hideSplash(); }
            }, 100);
            setTimeout(() => { clearInterval(check); hideSplash(); }, 8000);
        }
        launch();
    </script>
</body>
</html>
